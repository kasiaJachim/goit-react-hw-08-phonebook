{"version":3,"file":"static/js/206.af1d2c17.chunk.js","mappings":"kSACA,EAAuB,4BAAvB,EAA2D,6BAA3D,EAAgG,6BAAhG,EAAmI,2BAAnI,EAAsK,6B,UCkGtK,EApFsB,WACpB,OACEA,EAAAA,EAAAA,MADF,eAAOC,EAAP,YAAqBC,EAArB,EAAqBA,UAAWC,EAAhC,EAAgCA,UAAWC,EAA3C,EAA2CA,QAE7BC,GAAaC,EAAAA,EAAAA,MAAnBC,MAERC,EAAAA,EAAAA,YAAU,WACJL,IACFM,EAAAA,EAAAA,KAEH,GAAE,CAACN,KAEJK,EAAAA,EAAAA,YAAU,WACJJ,IACFM,EAAAA,EAAAA,KAEH,GAAE,CAACN,IAEJ,IAUMO,EAAmBC,EAAAA,KAAaC,MAAM,CAC1CC,KAAMF,EAAAA,KACHG,IAAI,EAAG,cACPC,IAAI,GAAI,aACRC,SAAS,0BAEZC,MAAON,EAAAA,KACJO,UAAU,0CACVC,SAAS,2CACTC,QAAQ,gDACRJ,SAAS,gCAQd,OACE,iCACE,SAAC,KAAD,CAAgBK,UAAW,IAAMC,SAAS,gBAC1C,SAAC,KAAD,CACEC,cATgB,CACpBV,KAAM,GACNI,MAAO,IAQHP,iBAAkBA,EAClBc,SAlCe,SAACC,EAAD,GAA4B,IAAjBC,EAAgB,EAAhBA,UACxBb,EAAOY,EAAOZ,KACdc,EAASF,EAAOR,MACtBb,EAASwB,MACP,SAAAC,GAAO,OAAIA,EAAQhB,KAAKiB,gBAAkBL,EAAOZ,KAAKiB,aAA/C,IAELC,MAAM,GAAD,OAAIN,EAAOZ,KAAX,6BACLb,EAAW,CAAEa,KAAAA,EAAMc,OAAAA,KAAaD,GACrC,EAuBG,UAKE,UAAC,KAAD,CAAMM,UAAWC,EAAjB,WACE,mBAAOD,UAAWC,EAAlB,UAA6B,QAE3B,SAAC,KAAD,CACED,UAAWC,EACXC,KAAK,OACLrB,KAAK,OACLsB,YAAY,UAEd,SAAC,KAAD,CAAcH,UAAWC,EAAWpB,KAAK,OAAOuB,UAAU,YAE5D,mBAAOJ,UAAWC,EAAlB,UAA6B,UAE3B,SAAC,KAAD,CACED,UAAWC,EACXC,KAAK,MACLrB,KAAK,QACLsB,YAAY,YAEd,SAAC,KAAD,CAAcH,UAAWC,EAAWpB,KAAK,QAAQuB,UAAU,YAE7D,oBAAQJ,UAAWC,EAASI,SAAUpC,EAAWiC,KAAK,SAAtD,UACGjC,IAAa,SAAC,KAAD,CAAeqC,OAAO,KAAKC,MAAM,OAAQ,wBAOlE,E,8BChGD,EAAwB,sBAAxB,EAAsD,sBCiCtD,EA3Be,WACb,IAAMC,GAAWC,EAAAA,EAAAA,MACXC,GAASC,EAAAA,EAAAA,IAAYC,EAAAA,IAS3B,OACE,mBAAOZ,UAAWC,EAAlB,UAA6B,yBAE3B,SAAC,EAAAY,cAAD,CACEC,UAAW,EACXC,gBAAiB,IACjBf,UAAWC,EACXC,KAAK,OACLc,MAAON,EACPP,YAAY,SACZc,SAde,SAAAC,GAJD,IAAAC,IAKND,EAAEE,OAAOJ,MAJrBR,GAASa,EAAAA,EAAAA,GAAUF,GAKpB,MAgBF,EC/BD,EAA8B,iCAA9B,EAAyE,6B,oBCAzE,EAAsB,2B,sCCkBtB,EAfqB,SAAC,GAAgD,IAA9CG,EAA6C,EAA7CA,SAAUjB,EAAmC,EAAnCA,SAAUpC,EAAyB,EAAzBA,UAAcsD,GAAW,YACnE,OACE,oCAAQvB,UAAWC,EAASI,SAAUA,GAAckB,GAApD,IAA0DrB,KAAK,SAA/D,UACGjC,IAAa,SAAC,KAAD,CAAeqC,OAAO,KAAKC,MAAM,OAC9Ce,KAGN,ECVD,EAA8B,iCC0G9B,EA9FoB,SAAC,GAA0B,IAAxBE,EAAuB,EAAvBA,GAAI3C,EAAmB,EAAnBA,KAAMc,EAAa,EAAbA,OAC/B,GAAkC8B,EAAAA,EAAAA,WAAS,GAA3C,eAAOC,EAAP,KAAkBC,EAAlB,KACA,GAAoCF,EAAAA,EAAAA,UAAS5C,GAA7C,eAAO+C,EAAP,KAAmBC,EAAnB,KACA,GAAwCJ,EAAAA,EAAAA,UAAS9B,GAAjD,eAAOmC,EAAP,KAAqBC,EAArB,KAEA,GACEC,EAAAA,EAAAA,MADF,eAAOC,EAAP,YAAmCC,EAAnC,EAAwBjE,UAAkCkE,EAA1D,EAA+CjE,UAE/C,GACEkE,EAAAA,EAAAA,MADF,eAAOC,EAAP,YAAmCC,EAAnC,EAAwBrE,UAAkCsE,EAA1D,EAA+CrE,WAG/CK,EAAAA,EAAAA,YAAU,WACJ4D,GACFK,EAAAA,GAAAA,QAAc,6BAEZD,IACFZ,GAAa,GACba,EAAAA,GAAAA,QAAc,6BAEjB,GAAE,CAACL,EAAWI,IAEf,IAoBME,EAAe,SAAAvB,GACG,SAAlBA,EAAEE,OAAOvC,KACXgD,EAAcX,EAAEE,OAAOJ,OACI,WAAlBE,EAAEE,OAAOvC,MAClBkD,EAAgBb,EAAEE,OAAOJ,MAE5B,EAED,OACE,eAAIhB,UAAWC,EAAf,SACGyB,GACC,iCACE,kBACExB,KAAK,OACLrB,KAAK,OACLmC,MAAOY,EACPX,SAAUwB,KAEZ,kBACEvC,KAAK,OACLrB,KAAK,SACLmC,MAAOc,EACPb,SAAUwB,KAEZ,4BACE,UAAC,EAAD,CAAcC,QAnCA,WACtBL,EAAc,CAAEb,GAAAA,EAAI3C,KAAM+C,EAAYjC,OAAQmC,GAC/C,EAiCiDzB,SAAUiC,EAAlD,UACGA,IAAc,SAAC,KAAD,CAAehC,OAAO,KAAKC,MAAM,OAAQ,WAG1D,SAAC,EAAD,CAAcmC,QA7CE,WACxBf,GAAa,GACbE,EAAchD,GACdkD,EAAgBpC,EACjB,EAyCS,SAA0C,kBAI9C,iCACE,4BAAOd,EAAK,OAAQ,KAAC,0BAAOc,KAC5B,4BACE,SAAC,EAAD,CAAc+C,QAxDA,WACtBf,GAAa,EACd,EAsDS,SAAwC,UACxC,UAAC,EAAD,CAAce,QA3CE,WACpBC,OAAOC,QAAQ,kDACjBX,EAAcT,EAEjB,EAuCmDnB,SAAU6B,EAApD,UACGA,IAAc,SAAC,KAAD,CAAe5B,OAAO,KAAKC,MAAM,OAAQ,mBAQrE,ECnED,EAvBoB,WAClB,IAAMG,GAASC,EAAAA,EAAAA,IAAYC,EAAAA,IAE3B,GAA6CvC,EAAAA,EAAAA,MAA/BD,EAAd,EAAQE,KAAgBL,EAAxB,EAAwBA,UAAW4E,EAAnC,EAAmCA,MACnC,OACE,gCACG5E,IAAa,cAAG+B,UAAWC,EAAd,SAA2B,eACxC4C,IACC,cAAG7C,UAAWC,EAAd,SAA2B,yDAI5B7B,GAAgC,IAApBA,EAAS0E,SAAgB,uBAAG,0BACzC,eAAI9C,UAAWC,EAAf,SACG7B,IACC2E,EAAAA,EAAAA,IAAoB3E,EAAUsC,GAAQsC,KAAI,gBAAGxB,EAAH,EAAGA,GAAI3C,EAAP,EAAOA,KAAMc,EAAb,EAAaA,OAAb,OACxC,SAAC,EAAD,CAAsBd,KAAMA,EAAMc,OAAQA,EAAQ6B,GAAIA,GAApCA,EADsB,QAMnD,EC7BD,EAA0B,8BAA1B,EAAqE,iCAArE,EAAkH,gCCsBlH,EAdqB,WAEnB,OADmBb,EAAAA,EAAAA,IAAYsC,EAAAA,MAG3B,iBAAKjD,UAAWC,EAAhB,WACE,eAAID,UAAWC,EAAf,SAA+B,eAC/B,SAAC,EAAD,KACA,eAAID,UAAWC,EAAf,SAA8B,cAC9B,SAAC,EAAD,KACA,SAAC,EAAD,MAIP,C,8ICpBYiD,EAAa,kBAAMV,EAAAA,GAAAA,MAAY,kCAAlB,EAEbW,EAAgB,kBAC3BX,EAAAA,GAAAA,MAAY,iCADe,EAGhB/D,EAAc,kBACzB+D,EAAAA,GAAAA,MAAY,uDADa,EAGdhE,EAAmB,kBAAMgE,EAAAA,GAAAA,QAAc,iBAApB,C","sources":["webpack://goit-react-hw-08-phonebook/./src/components/FormPhonebook/FormPhonebook.module.css?d55d","components/FormPhonebook/FormPhonebook.jsx","webpack://goit-react-hw-08-phonebook/./src/components/Filter/Filter.module.css?fad1","components/Filter/Filter.jsx","webpack://goit-react-hw-08-phonebook/./src/components/ContactList.jsx/ContactList.module.css?5b50","webpack://goit-react-hw-08-phonebook/./src/components/Shared/ButtonStyle/button-styled.module.css?d27e","components/Shared/ButtonStyle/ButtonStyled.jsx","webpack://goit-react-hw-08-phonebook/./src/components/ContactList.jsx/ContactItem/ContactItem.module.css?e80a","components/ContactList.jsx/ContactItem/ContactItem.jsx","components/ContactList.jsx/ContactList.jsx","webpack://goit-react-hw-08-phonebook/./src/pages/ContactsPage/ContactsPage.module.css?0a45","pages/ContactsPage/ContactsPage.jsx","utils/notification.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"FormPhonebook_form__yE3-g\",\"label\":\"FormPhonebook_label__actQR\",\"input\":\"FormPhonebook_input__iqqEB\",\"btn\":\"FormPhonebook_btn__5b-dH\",\"error\":\"FormPhonebook_error__7SaV1\"};","import React from 'react';\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport { ToastContainer } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { RotatingLines } from 'react-loader-spinner';\nimport {\n  useAddContactMutation,\n  useFetchContactsQuery,\n} from 'redux/contactsSlice';\nimport { useEffect } from 'react';\n\nimport { notifyAddContact, serverError } from 'utils/notification';\nimport css from './FormPhonebook.module.css';\n\nconst FormPhonebook = () => {\n  const [addContact, { isLoading, isSuccess, isError }] =\n    useAddContactMutation();\n  const { data: contacts } = useFetchContactsQuery();\n\n  useEffect(() => {\n    if (isSuccess) {\n      notifyAddContact();\n    }\n  }, [isSuccess]);\n\n  useEffect(() => {\n    if (isError) {\n      serverError();\n    }\n  }, [isError]);\n\n  const handleSubmit = (values, { resetForm }) => {\n    const name = values.name;\n    const number = values.phone;\n    contacts.find(\n      contact => contact.name.toLowerCase() === values.name.toLowerCase()\n    )\n      ? alert(`${values.name} is already in contacts!`)\n      : addContact({ name, number }) && resetForm();\n  };\n\n  const validationSchema = Yup.object().shape({\n    name: Yup.string()\n      .min(2, 'Too Short!')\n      .max(20, 'Too Long!')\n      .required('Name is required field'),\n\n    phone: Yup.number()\n      .typeError('That does not look like a phone number')\n      .positive(\"A phone number can't start with a minus\")\n      .integer(\"A phone number can't include a decimal point\")\n      .required('A phone number is required'),\n  });\n\n  const initialValues = {\n    name: '',\n    phone: '',\n  };\n\n  return (\n    <>\n      <ToastContainer autoClose={1000} position=\"top-center\" />\n      <Formik\n        initialValues={initialValues}\n        validationSchema={validationSchema}\n        onSubmit={handleSubmit}\n      >\n        <Form className={css.form}>\n          <label className={css.label}>\n            Name\n            <Field\n              className={css.input}\n              type=\"text\"\n              name=\"name\"\n              placeholder=\"Name\"\n            />\n            <ErrorMessage className={css.error} name=\"name\" component=\"div\" />\n          </label>\n          <label className={css.label}>\n            Number\n            <Field\n              className={css.input}\n              type=\"tel\"\n              name=\"phone\"\n              placeholder=\"Number\"\n            />\n            <ErrorMessage className={css.error} name=\"phone\" component=\"div\" />\n          </label>\n          <button className={css.btn} disabled={isLoading} type=\"submit\">\n            {isLoading && <RotatingLines height=\"20\" width=\"20\" />}\n            Add contact\n          </button>\n        </Form>\n      </Formik>\n    </>\n  );\n};\n\nexport default FormPhonebook;\n","// extracted by mini-css-extract-plugin\nexport default {\"label\":\"Filter_label__vEd1E\",\"input\":\"Filter_input__N7T3z\"};","import { useDispatch, useSelector } from 'react-redux';\nimport { DebounceInput } from 'react-debounce-input';\n\nimport { setFilter } from 'redux/filterSlice';\nimport { getFilter } from 'redux/selectors';\nimport css from './Filter.module.css';\n\nconst Filter = () => {\n  const dispatch = useDispatch();\n  const filter = useSelector(getFilter);\n  const valueFilter = payload => {\n    dispatch(setFilter(payload));\n  };\n\n  const changeFilter = e => {\n    valueFilter(e.target.value);\n  };\n\n  return (\n    <label className={css.label}>\n      Find contacts by name\n      <DebounceInput\n        minLength={1}\n        debounceTimeout={300}\n        className={css.input}\n        type=\"text\"\n        value={filter}\n        placeholder=\"Search\"\n        onChange={changeFilter}\n      />\n    </label>\n  );\n};\n\nexport default Filter;\n","// extracted by mini-css-extract-plugin\nexport default {\"contactList\":\"ContactList_contactList__MX23H\",\"default\":\"ContactList_default__Q5-W6\"};","// extracted by mini-css-extract-plugin\nexport default {\"btn\":\"button-styled_btn__6MlS9\"};","import css from './button-styled.module.css';\nimport PropTypes from 'prop-types';\nimport { RotatingLines } from 'react-loader-spinner';\n\nconst ButtonStyled = ({ children, disabled, isLoading, ...rest }) => {\n  return (\n    <button className={css.btn} disabled={disabled} {...rest} type=\"submit\">\n      {isLoading && <RotatingLines height=\"20\" width=\"20\" />}\n      {children}\n    </button>\n  );\n};\n\nButtonStyled.propTypes = {\n  children: PropTypes.node.isRequired,\n  disabled: PropTypes.bool,\n  isLoading: PropTypes.bool,\n};\n\nexport default ButtonStyled;\n","// extracted by mini-css-extract-plugin\nexport default {\"contactItem\":\"ContactItem_contactItem__wX4pT\",\"delBtn\":\"ContactItem_delBtn__U8rls\",\"btn\":\"ContactItem_btn__zoCkB\"};","import { PropTypes } from 'prop-types';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { RotatingLines } from 'react-loader-spinner';\nimport { useEffect, useState } from 'react';\nimport { toast } from 'react-toastify';\n\nimport ButtonStyled from 'components/Shared/ButtonStyle/ButtonStyled';\nimport {\n  useDeleteContactMutation,\n  useUpdateContactMutation,\n} from 'redux/contactsSlice';\nimport css from './ContactItem.module.css';\n\nconst ContactItem = ({ id, name, number }) => {\n  const [isEditing, setIsEditing] = useState(false);\n  const [editedName, setEditedName] = useState(name);\n  const [editedNumber, setEditedNumber] = useState(number);\n\n  const [deleteContact, { isLoading: isDeleting, isSuccess: isDeleted }] =\n    useDeleteContactMutation();\n  const [updateContact, { isLoading: isUpdating, isSuccess: isUpdated }] =\n    useUpdateContactMutation();\n\n  useEffect(() => {\n    if (isDeleted) {\n      toast.success('Contact has been deleted!');\n    }\n    if (isUpdated) {\n      setIsEditing(false);\n      toast.success('Contact has been updated!');\n    }\n  }, [isDeleted, isUpdated]);\n\n  const handleEditClick = () => {\n    setIsEditing(true);\n  };\n\n  const handleCancelClick = () => {\n    setIsEditing(false);\n    setEditedName(name);\n    setEditedNumber(number);\n  };\n\n  const handleSaveClick = () => {\n    updateContact({ id, name: editedName, number: editedNumber });\n  };\n\n  const handleDeleteClick = () => {\n    if (window.confirm('Are you sure you want to delete this contact?')) {\n      deleteContact(id);\n    }\n  };\n\n  const handleChange = e => {\n    if (e.target.name === 'name') {\n      setEditedName(e.target.value);\n    } else if (e.target.name === 'number') {\n      setEditedNumber(e.target.value);\n    }\n  };\n\n  return (\n    <li className={css.contactItem}>\n      {isEditing ? (\n        <>\n          <input\n            type=\"text\"\n            name=\"name\"\n            value={editedName}\n            onChange={handleChange}\n          />\n          <input\n            type=\"text\"\n            name=\"number\"\n            value={editedNumber}\n            onChange={handleChange}\n          />\n          <div>\n            <ButtonStyled onClick={handleSaveClick} disabled={isUpdating}>\n              {isUpdating && <RotatingLines height=\"20\" width=\"20\" />}\n              Save\n            </ButtonStyled>\n            <ButtonStyled onClick={handleCancelClick}>Cancel</ButtonStyled>\n          </div>\n        </>\n      ) : (\n        <>\n          <span>{name}:</span> <span>{number}</span>\n          <div>\n            <ButtonStyled onClick={handleEditClick}>Edit</ButtonStyled>\n            <ButtonStyled onClick={handleDeleteClick} disabled={isDeleting}>\n              {isDeleting && <RotatingLines height=\"20\" width=\"20\" />}\n              Delete\n            </ButtonStyled>\n          </div>\n        </>\n      )}\n    </li>\n  );\n};\n\nContactItem.propTypes = {\n  id: PropTypes.string.isRequired,\n  name: PropTypes.string.isRequired,\n  number: PropTypes.string.isRequired,\n};\n\nexport default ContactItem;\n","import { useSelector } from 'react-redux';\n\nimport css from './ContactList.module.css';\nimport ContactItem from './ContactItem/ContactItem';\nimport { getFilteredContacts } from 'redux/selectors';\n\nimport { useFetchContactsQuery } from 'redux/contactsSlice';\nimport { getFilter } from 'redux/selectors';\n\nconst ContactList = () => {\n  const filter = useSelector(getFilter);\n\n  const { data: contacts, isLoading, error } = useFetchContactsQuery();\n  return (\n    <>\n      {isLoading && <p className={css.default}>...loading</p>}\n      {error && (\n        <p className={css.default}>\n          Sorry, something went wrong, please try again later!\n        </p>\n      )}\n      {contacts && contacts.length === 0 && <p>There is no contact!</p>}\n      <ul className={css.contactList}>\n        {contacts &&\n          getFilteredContacts(contacts, filter).map(({ id, name, number }) => (\n            <ContactItem key={id} name={name} number={number} id={id} />\n          ))}\n      </ul>\n    </>\n  );\n};\n\nexport default ContactList;\n","// extracted by mini-css-extract-plugin\nexport default {\"wrapper\":\"ContactsPage_wrapper__HYOyv\",\"titlePhone\":\"ContactsPage_titlePhone__ODE41\",\"titleCont\":\"ContactsPage_titleCont__JLcCo\"};","import { useSelector } from 'react-redux';\n\nimport FormPhonebook from 'components/FormPhonebook/FormPhonebook';\nimport Filter from 'components/Filter/Filter';\nimport ContactList from 'components/ContactList.jsx/ContactList';\nimport { getIsLoggedIn } from 'redux/selectors';\n\nimport css from './ContactsPage.module.css';\n\nconst ContactsPage = () => {\n  const isLoggedIn = useSelector(getIsLoggedIn);\n  return (\n    isLoggedIn && (\n      <div className={css.wrapper}>\n        <h1 className={css.titlePhone}>Phonebook</h1>\n        <FormPhonebook />\n        <h2 className={css.titleCont}>Contacts</h2>\n        <Filter />\n        <ContactList />\n      </div>\n    )\n  );\n};\nexport default ContactsPage;\n","import { toast } from 'react-toastify';\n\nexport const loginError = () => toast.error('Sorry, wrong email or password!');\n\nexport const registerError = () =>\n  toast.error('Sorry, incorrect data entered!');\n\nexport const serverError = () =>\n  toast.error('Sorry, something went wrong, please try again later!');\n\nexport const notifyAddContact = () => toast.success('Contact added!');\n\nexport const notifyDeliteContact = () => toast.info('Contact deleted!');\n\nexport const notifyUpdateContact = () =>\n  toast.success('The contact has been successfully updated!');\n"],"names":["useAddContactMutation","addContact","isLoading","isSuccess","isError","contacts","useFetchContactsQuery","data","useEffect","notifyAddContact","serverError","validationSchema","Yup","shape","name","min","max","required","phone","typeError","positive","integer","autoClose","position","initialValues","onSubmit","values","resetForm","number","find","contact","toLowerCase","alert","className","css","type","placeholder","component","disabled","height","width","dispatch","useDispatch","filter","useSelector","getFilter","DebounceInput","minLength","debounceTimeout","value","onChange","e","payload","target","setFilter","children","rest","id","useState","isEditing","setIsEditing","editedName","setEditedName","editedNumber","setEditedNumber","useDeleteContactMutation","deleteContact","isDeleting","isDeleted","useUpdateContactMutation","updateContact","isUpdating","isUpdated","toast","handleChange","onClick","window","confirm","error","length","getFilteredContacts","map","getIsLoggedIn","loginError","registerError"],"sourceRoot":""}